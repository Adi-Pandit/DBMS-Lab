USE cafy21573;

DROP TABLE WORKSHOP_PARTICIPANT;
DROP TABLE PARTICIPANT;
DROP TABLE WORKSHOP;

CREATE TABLE WORKSHOP(WORKSHOPID INT PRIMARY KEY, TITLE VARCHAR(30), NUMBEROFSPEAKERS INT, DESIGNATION VARCHAR(30), FEES INT);
CREATE TABLE PARTICIPANT(PARTICIPANTID INT PRIMARY KEY, PARTICIPANTNAME VARCHAR(30), WORKSHOPID INT, FOREIGN KEY(WORKSHOPID) REFERENCES WORKSHOP(WORKSHOPID));
CREATE TABLE WORKSHOP_PARTICIPANT(WORKSHOPID INT, FOREIGN KEY(WORKSHOPID) REFERENCES WORKSHOP(WORKSHOPID), PARTICIPANTID INT, FOREIGN KEY(PARTICIPANTID) REFERENCES PARTICIPANT(PARTICIPANTID));

DESC WORKSHOP;
DESC PARTICIPANT;
DESC WORKSHOP_PARTICIPANT;

INSERT INTO WORKSHOP(WORKSHOPID, TITLE, NUMBEROFSPEAKERS, DESIGNATION, FEES) VALUES(1, 'XYXC', 3, 'SeniorManager', 7000);
INSERT INTO WORKSHOP(WORKSHOPID, TITLE, NUMBEROFSPEAKERS, DESIGNATION, FEES) VALUES(2, 'ABCD', 2, 'JuniorManager', 6000);
INSERT INTO WORKSHOP(WORKSHOPID, TITLE, NUMBEROFSPEAKERS, DESIGNATION, FEES) VALUES(3, 'CFGH', 1, 'VGUYB', 6000);
INSERT INTO WORKSHOP(WORKSHOPID, TITLE, NUMBEROFSPEAKERS, DESIGNATION, FEES) VALUES(4, 'VGHU', 3, 'BHGYU', 3000);
INSERT INTO WORKSHOP(WORKSHOPID, TITLE, NUMBEROFSPEAKERS, DESIGNATION, FEES) VALUES(5, 'EWRT', 2, 'AWERT', 5000);

INSERT INTO PARTICIPANT(PARTICIPANTID, PARTICIPANTNAME, WORKSHOPID) VALUES(101, 'ADITYA', 1);
INSERT INTO PARTICIPANT(PARTICIPANTID, PARTICIPANTNAME, WORKSHOPID) VALUES(102, 'ABHINAV', 2);
INSERT INTO PARTICIPANT(PARTICIPANTID, PARTICIPANTNAME, WORKSHOPID) VALUES(103, 'ATHARAV', 3);
INSERT INTO PARTICIPANT(PARTICIPANTID, PARTICIPANTNAME, WORKSHOPID) VALUES(104, 'PIYUSH', 4);
INSERT INTO PARTICIPANT(PARTICIPANTID, PARTICIPANTNAME, WORKSHOPID) VALUES(105, 'MRUMAI', 5);

INSERT WORKSHOP_PARTICIPANT(WORKSHOPID, PARTICIPANTID) VALUES(1, 101);
INSERT WORKSHOP_PARTICIPANT(WORKSHOPID, PARTICIPANTID) VALUES(2, 102);
INSERT WORKSHOP_PARTICIPANT(WORKSHOPID, PARTICIPANTID) VALUES(3, 103);
INSERT WORKSHOP_PARTICIPANT(WORKSHOPID, PARTICIPANTID) VALUES(4, 104);
INSERT WORKSHOP_PARTICIPANT(WORKSHOPID, PARTICIPANTID) VALUES(5, 105);

SELECT * FROM WORKSHOP;
SELECT * FROM PARTICIPANT;
SELECT * FROM WORKSHOP_PARTICIPANT;

SELECT PARTICIPANTNAME, TITLE FROM WORKSHOP W, PARTICIPANT P, WORKSHOP_PARTICIPANT WP 
WHERE W.WORKSHOPID = WP.WORKSHOPID AND P.PARTICIPANTID = WP.PARTICIPANTID AND NUMBEROFSPEAKERS>2;

SELECT PARTICIPANTID, PARTICIPANTNAME, W.WORKSHOPID FROM WORKSHOP W, PARTICIPANT P 
WHERE W.WORKSHOPID = P.WORKSHOPID AND DESIGNATION IN ('SeniorManager','JuniorManager');

SELECT W.WORKSHOPID, TITLE, PARTICIPANTID FROM WORKSHOP W, PARTICIPANT P 
WHERE W.WORKSHOPID = P.WORKSHOPID AND FEES BETWEEN 5000 AND 8000;